--[[ 
CAD CONNECT BY CODURLY
NOT FOR DISTRUBTION WITHOUT WRITTEN CONSENT BY CODURLY
COPYRIGHT 2018
--]]

ESX=nil;Citizen.CreateThread(function()while ESX==nil do TriggerEvent('esx:getSharedObject',function(a)ESX=a end)Citizen.Wait(0)end end)RegisterNetEvent("cadConnect:Communication")AddEventHandler("cadConnect:Communication",function(b,c)x,y,z=table.unpack(GetEntityCoords(GetPlayerPed(-1),true))lastStreet,lastCross=GetStreetNameAtCoord(x,y,z)lastStreetName=GetStreetNameFromHashKey(lastStreet)lastCrossStreet=GetStreetNameFromHashKey(lastCross)if c=="911"then TriggerServerEvent("cadConnect:911",lastStreetName,lastCrossStreet,b)drawNotification("CHAR_CALL911",0,"An operator has been alerted, please standby for operator.","San Andreas Communications","911 Emergency Line")else TriggerServerEvent("cadConnect:Panic",lastStreetName,lastCrossStreet,b)drawNotification("CHAR_CALL911",0,"Our system has recieved your panic button press.","San Andreas Communications","Officer Panic Button")end end)RegisterNetEvent("cadConnect:teleport")AddEventHandler("cadConnect:teleport",function(x,y,z)SetEntityCoords(GetPlayerPed(-1),x,y,z)end)RegisterNetEvent("cadConnect:sendToJail")AddEventHandler("cadConnect:sendToJail",function(x,y,z)SetEntityCoords(GetPlayerPed(-1),1713.04,2506.66,45.56)end)RegisterNetEvent("cadConnect:alert")AddEventHandler("cadConnect:alert",function(d,e)drawNotification("CHAR_CALL911",1,e,d,"CAD CONNECT")end)RegisterNetEvent("cadConnect:kickAlert")AddEventHandler("doj:cad:kickAlert",function(d,e)drawNotification("CHAR_CALL911",1,e,d,"KICK ALERT")end)RegisterNetEvent("doj:cad:setWaypoint")AddEventHandler("doj:cad:setWaypoint",function(f,g)SetNewWaypoint(f,g)blip=AddBlipForCoord(f,g,0)SetBlipRoute(blip,true)end)function drawNotification(h,i,j,d,k)SetNotificationTextEntry("STRING")AddTextComponentString(j)SetNotificationMessage(h,h,true,i,d,k)end